<main class="main">
  <div class="content">
    <form (ngSubmit)="addWorkout()">
      <label for="name">Name:</label>
      <input type="text" id="name" [(ngModel)]="name" name="name" placeholder="Enter Name here" required />

      <label for="workoutType">Workout Type:</label>
      <select id="workoutType" [(ngModel)]="workoutType" name="workoutType" required>
        <option hidden value="">Workout Type</option>
        <option *ngFor="let type of workoutTypes" [value]="type">{{ type }}</option>
      </select>

      <label for="workoutMinutes">Workout Minutes:</label>
      <input type="number" id="workoutMinutes" name="workoutMinutes" [(ngModel)]="workoutMinutes" placeholder="Enter in mins" required />

      <input type="submit" value="Add" />
      <button (click)="resetLocalStorage()">Reset Storage</button>
    </form>
  </div>
  <div>
    <h2>Workout Table</h2>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Workout Type</th>
          <th>Workout Minutes</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let user of userData">
          <tr *ngFor="let workout of user.workouts; let first = first">
            <td *ngIf="first" [attr.rowspan]="user.workouts.length">{{ user.name }}</td>
            <td>{{ workout.type }}</td>
            <td>{{ workout.minutes }}</td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</main>
